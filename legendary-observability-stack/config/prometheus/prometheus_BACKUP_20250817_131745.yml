# ğŸ†ğŸ’âš¡ LEGENDARY PROMETHEUS CONFIGURATION âš¡ğŸ’ğŸ†
# Complete monitoring configuration for the HYPERFOCUS Zone Empire
# Optimized for ADHD-friendly alerting and comprehensive observability

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: 'legendary-empire'
    environment: 'production'

alerting:
  alertmanagers:
    - static_configs:
        - targets:
          - legendary-alertmanager:9093

rule_files:
  - "alerts/*.yml"
  - "rules/*.yml"

scrape_configs:
  # ğŸ¯ PROMETHEUS SELF-MONITORING
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
    scrape_interval: 10s
    metrics_path: '/metrics'

  # ğŸ“Š GRAFANA MONITORING
  - job_name: 'grafana'
    static_configs:
      - targets: ['legendary-grafana:3000']
    scrape_interval: 15s
    metrics_path: '/metrics'

  # ğŸ“ LOKI MONITORING
  - job_name: 'loki'
    static_configs:
      - targets: ['legendary-loki:3100']
    scrape_interval: 15s
    metrics_path: '/metrics'

  # ğŸ”” ALERTMANAGER MONITORING
  - job_name: 'alertmanager'
    static_configs:
      - targets: ['legendary-alertmanager:9093']
    scrape_interval: 15s
    metrics_path: '/metrics'

  # ğŸ–¥ï¸ HOST SYSTEM MONITORING
  - job_name: 'node-exporter'
    static_configs:
      - targets: ['legendary-node-exporter:9100']
    scrape_interval: 10s
    metrics_path: '/metrics'

  # ğŸ³ CONTAINER MONITORING
  - job_name: 'cadvisor'
    static_configs:
      - targets: ['legendary-cadvisor:8080']
    scrape_interval: 15s
    metrics_path: '/metrics'

  # ğŸ”¥ REDIS MONITORING
  - job_name: 'redis-exporter'
    static_configs:
      - targets: ['legendary-redis-exporter:9121']
    scrape_interval: 15s
    metrics_path: '/metrics'

  # ğŸ¥ LEGENDARY HEALTH SERVICE
  - job_name: 'legendary-health-service'
    static_configs:
      - targets: ['legendary-health-service:8090']
    scrape_interval: 30s
    metrics_path: '/metrics'
    scrape_timeout: 10s

  # ğŸ§  MEMORY CRYSTAL SERVICE
  - job_name: 'memory-crystal-service'
    static_configs:
      - targets: ['legendary-memory-crystal-service:8091']
    scrape_interval: 30s
    metrics_path: '/metrics'

  # ğŸ® JAEGER MONITORING
  - job_name: 'jaeger'
    static_configs:
      - targets: ['legendary-jaeger:14269']
    scrape_interval: 15s
    metrics_path: '/metrics'

  # ğŸ“Š TEMPO MONITORING
  - job_name: 'tempo'
    static_configs:
      - targets: ['legendary-tempo:3200']
    scrape_interval: 15s
    metrics_path: '/metrics'

  # ğŸš€ DOCKER COMPOSE UI
  - job_name: 'compose-ui'
    static_configs:
      - targets: ['legendary-compose-ui:5000']
    scrape_interval: 30s
    metrics_path: '/metrics'

  # ğŸ’ HYPERFOCUS ZONE EMPIRE SERVICES (External)
  - job_name: 'empire-services'
    static_configs:
      - targets:
          - 'host.docker.internal:3001'  # Grafana Empire Dashboard
          - 'host.docker.internal:9090'  # External Prometheus
          - 'host.docker.internal:8080'  # Ultra dOoK Portal
    scrape_interval: 30s
    metrics_path: '/metrics'
    scrape_timeout: 15s
